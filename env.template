# =============================================================================
# Petstore API - Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
# Node environment: development, production, or test
NODE_ENV=production

# API server port (host port mapping)
# This maps the host port to container port 3000
# Example: API_PORT=13000 means http://localhost:13000 -> container:3000
API_PORT=3000

# Public API URL (used for Swagger UI and external access)
# Set this to your server's public URL
# Examples:
#   API_URL=http://your-server-ip:3000
#   API_URL=https://api.yourdomain.com
#   API_URL=http://192.168.1.100:3000
API_URL=http://localhost:3000

# Logging level: trace, debug, info, warn, error, fatal
LOG_LEVEL=info

# Node.js memory limit (used in production with NODE_OPTIONS)
# NODE_OPTIONS=--max-old-space-size=384

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# -----------------------------------------------------------------------------
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://petstore:petstore_password@localhost:5432/petstore

# Individual PostgreSQL settings (used by docker-compose)
POSTGRES_USER=petstore
POSTGRES_PASSWORD=petstore_password
POSTGRES_DB=petstore
POSTGRES_PORT=5432

# PostgreSQL Performance Tuning (Production)
# These are used in docker-compose.prod.yml
POSTGRES_SHARED_BUFFERS=512MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1536MB
POSTGRES_MAX_CONNECTIONS=100
POSTGRES_WORK_MEM=4MB
POSTGRES_MAINTENANCE_WORK_MEM=128MB

# -----------------------------------------------------------------------------
# Security Settings
# -----------------------------------------------------------------------------
# CORS allowed origins (comma-separated or * for all)
# Examples:
#   CORS_ORIGIN=*
#   CORS_ORIGIN=https://myapp.com,https://admin.myapp.com
#   CORS_ORIGIN=http://localhost:3000,http://localhost:8080
CORS_ORIGIN=*

# Set to 'true' when using HTTPS (enables HSTS header)
# HTTPS=true

# Rate limiting configuration
# Maximum number of requests per time window
RATE_LIMIT_MAX=100

# Time window for rate limiting
# Examples: "1 minute", "15 minutes", "1 hour"
RATE_LIMIT_WINDOW=15 minutes

# -----------------------------------------------------------------------------
# Docker & Container Settings
# -----------------------------------------------------------------------------
# Container resource limits are defined in docker-compose.prod.yml
# but can be overridden here if needed

# -----------------------------------------------------------------------------
# Development Settings
# -----------------------------------------------------------------------------
# Uncomment these for development mode

# NODE_ENV=development
# API_PORT=3000
# LOG_LEVEL=debug
# POSTGRES_PORT=5432

# Development database URL (SQLite for local dev/testing)
# DATABASE_URL=file:./dev.db

# -----------------------------------------------------------------------------
# Additional Optional Settings
# -----------------------------------------------------------------------------
# Source map generation (set to false in production)
# GENERATE_SOURCEMAP=false

# API Documentation settings
# SWAGGER_ROUTE_PREFIX=/docs

# JWT secret (if implementing authentication)
# JWT_SECRET=your-super-secret-jwt-key-change-this

# External API keys (if needed)
# EXTERNAL_API_KEY=your-api-key-here

# -----------------------------------------------------------------------------
# Example Production Configuration
# -----------------------------------------------------------------------------
# NODE_ENV=production
# API_PORT=3000
# LOG_LEVEL=info
# DATABASE_URL=postgresql://petstore:STRONG_PASSWORD_HERE@postgres:5432/petstore
# POSTGRES_USER=petstore
# POSTGRES_PASSWORD=STRONG_PASSWORD_HERE
# POSTGRES_DB=petstore
# POSTGRES_PORT=5432
# CORS_ORIGIN=https://yourdomain.com
# RATE_LIMIT_MAX=100
# RATE_LIMIT_WINDOW=15 minutes

# -----------------------------------------------------------------------------
# Example Development Configuration
# -----------------------------------------------------------------------------
# NODE_ENV=development
# API_PORT=3000
# LOG_LEVEL=debug
# DATABASE_URL=postgresql://petstore:petstore_password@localhost:5432/petstore
# POSTGRES_USER=petstore
# POSTGRES_PASSWORD=petstore_password
# POSTGRES_DB=petstore
# POSTGRES_PORT=5432
# CORS_ORIGIN=*
# RATE_LIMIT_MAX=1000
# RATE_LIMIT_WINDOW=15 minutes
